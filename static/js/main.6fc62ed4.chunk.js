(this["webpackJsonplab-31"]=this["webpackJsonplab-31"]||[]).push([[0],{11:function(e,t,n){e.exports={modal:"modal_modal__2bhYs"}},13:function(e,t,n){e.exports=n(19)},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(3),l=n(4),c=n(6),r=n(5),o=n(7),u=n(0),i=n.n(u),s=n(10),m=n.n(s),d=n(1),f=n(12),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},E=function(e){return p(e.condition,e.children)},g=n(11),h=n.n(g),b=function(e){return i.a.createElement("div",{className:h.a.modal},i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("span",{className:"title"},e.title),i.a.createElement("button",{onClick:e.close},"X")),i.a.createElement("div",null,e.children)))},v=n(2),j=n(8),O=function(e){var t=Object(u.useState)({}),n=Object(d.a)(t,2),a=n[0],l=n[1];return[function(t){t&&(t.preventDefault(),t.target.reset()),e(a)},{onChange:function(e){e.persist(),l((function(t){return Object(j.a)({},t,Object(v.a)({},e.target.name,e.target.value))}))}},function(e){e.persist(),l((function(t){return Object(j.a)({},t,Object(v.a)({},e.target.name,e.target.value))})),console.log("values : ",a)},a]},y=function(e){return i.a.createElement("header",null,i.a.createElement("h2",null,i.a.createElement("p",null,"There are"),e.todoList.filter((function(e){return!e.complete})).length,'" Items To Complete'))},C=function(e){var t=(new Date).toDateString();return i.a.createElement("footer",null,i.a.createElement("p",null,t),i.a.createElement("h3",null,"By obada Q 2020"))},P=function(e){for(var t=e.postsPerPage,n=e.totalPosts,a=e.paginate,l=e.curent,c=[],r=1;r<=Math.ceil(n/t);r++)c.push(r);return i.a.createElement("nav",null,i.a.createElement("ul",{className:"pagination"},c.map((function(e){return i.a.createElement("li",{key:e,className:"page-item"},i.a.createElement("a",{onClick:function(){return a(e)},href:"!#",className:"page-link"},e))}))),i.a.createElement("button",{onClick:function(){l-1>0&&a(l-1)}},"previus"),i.a.createElement("button",{onClick:function(){l+1<=c.length&&a(l+1)}},"next"))},k=i.a.createContext();var D=function(e){var t=Object(u.useState)(!0),n=Object(d.a)(t,2),a=n[0],l=n[1],c=Object(u.useState)(1),r=Object(d.a)(c,2),o=r[0],s=r[1],m=Object(u.useState)(5),f={display:a,currentPage:o,postsPerPage:Object(d.a)(m,1)[0],changeDisplay:l,changeCurrentPage:s};return i.a.createElement(k.Provider,{value:f},e.children)},_=(n(18),"https://api-js401.herokuapp.com/api/v1/todo"),S=function(e){var t=Object(u.useContext)(k),n=O((function(){N(_,"POST",r,(function(e){return console.log("newItem : ",e),p([].concat(Object(f.a)(m),[e]))}))})),a=Object(d.a)(n,4),l=a[0],c=(a[1],a[2]),r=a[3],o=Object(u.useState)([]),s=Object(d.a)(o,2),m=s[0],p=s[1],g=Object(u.useState)(!1),h=Object(d.a)(g,2),v=h[0],j=h[1],D=Object(u.useState)({}),S=Object(d.a)(D,2),T=S[0],x=S[1],N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return fetch(e,{method:t,mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0}).then((function(e){return e.json()})).then((function(e){return"function"===typeof a?a(e):null})).catch((function(e){return"function"===typeof l?l(e):console.error(e)}))},I=function(e){var t,n=m.filter((function(t){return t._id===e}))[0]||{};n._id&&(n.complete=!n.complete,t=n,N("".concat(_,"/").concat(t._id),"PUT",t,(function(e){return p(m.map((function(t){return t._id===e._id?e:t})))})))},A=function(e){var t=!v,n=m.filter((function(t){return t._id===e}))[0]||{};console.log("todoList : ",m),x(n),console.log("details : ",T),j(t)},w=t.currentPage*t.postsPerPage,L=w-t.postsPerPage,J=m.slice(L,w);Object(u.useEffect)((function(){N(_,"GET",void 0,(function(e){return p(e.results)}))}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{todoList:m}),i.a.createElement("section",{className:"todo"},i.a.createElement("div",null,i.a.createElement("h3",null,"Add Item"),i.a.createElement("form",{onSubmit:l},i.a.createElement("label",null,i.a.createElement("span",null,"To Do Item"),i.a.createElement("input",{name:"text",placeholder:"Add To Do List Item",onChange:c})),i.a.createElement("label",null,i.a.createElement("span",null,"Difficulty Rating"),i.a.createElement("input",{type:"range",min:"1",max:"5",name:"difficulty",defaultValue:"3",onChange:c})),i.a.createElement("label",null,i.a.createElement("span",null,"Assigned To"),i.a.createElement("input",{type:"text",name:"assignee",placeholder:"Assigned To",onChange:c})),i.a.createElement("label",null,i.a.createElement("span",null,"Due"),i.a.createElement("input",{type:"date",name:"due",onChange:c})),i.a.createElement("button",null,"Add Item"))),i.a.createElement("div",null,i.a.createElement("ul",null,J.map((function(e){return i.a.createElement("li",{className:"complete-".concat(e.complete.toString(),"-").concat(t.display),key:e._id},i.a.createElement("span",{onClick:function(){return I(e._id)}},e.text),i.a.createElement("button",{onClick:function(){return A(e._id)}},"Details"),i.a.createElement("button",{onClick:function(){return t=e._id,void N("".concat(_,"/").concat(t),"DELETE",void 0,(function(e){return p(m.filter((function(e){return e._id!==t})))}));var t}},"Delete"))}))),i.a.createElement("button",{onClick:function(){t.changeDisplay(!1)}},"Hide completed"),i.a.createElement("button",{onClick:function(){t.changeDisplay(!0)}},"Show completed"),i.a.createElement(P,{postsPerPage:t.postsPerPage,totalPosts:m.length,paginate:function(e){return t.changeCurrentPage(e)},curent:t.currentPage}))),i.a.createElement(E,{condition:v},i.a.createElement(b,{title:"To Do Item",close:A},i.a.createElement("div",{className:"todo-details"},i.a.createElement("header",null,i.a.createElement("span",null,"Assigned To: ",T.assignee),i.a.createElement("span",null,"Due: ",T.due)),i.a.createElement("div",{className:"item"},T.text)))),i.a.createElement(C,null))},T=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(D,null,i.a.createElement("div",null,i.a.createElement(S,null)))}}]),t}(i.a.Component),x=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(T,null)}}]),t}(i.a.Component),N=document.getElementById("root");m.a.render(i.a.createElement(x,null),N)}},[[13,1,2]]]);
//# sourceMappingURL=main.6fc62ed4.chunk.js.map